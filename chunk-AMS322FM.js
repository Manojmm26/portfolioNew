import{a as g}from"./chunk-VSOBPEDQ.js";import{$ as u,E as c,H as l,M as d,a as o,b as p,ea as h,o as s,s as r,w as C}from"./chunk-HK5TVXMR.js";var f=class a{constructor(t){this.http=t;let e=localStorage.getItem("user_concepts");e&&(this.userConcepts=JSON.parse(e))}predefinedConcepts=[];userConcepts=[];technicalAnalysisConceptsUrl="assets/data/technical-analysis-concepts.json";getConceptsJsonPath(t){return`assets/data/${t}-concepts.json`}saveUserConcepts(){localStorage.setItem("user_concepts",JSON.stringify(this.userConcepts))}getConcepts(t){return this.http.get(this.getConceptsJsonPath(t)).pipe(r(e=>[...e.concepts,...this.userConcepts.filter(i=>i.technology===t)]))}getTechnicalAnalysisConcepts(){return this.http.get(this.technicalAnalysisConceptsUrl).pipe(r(t=>t.concepts),c(t=>(console.error("Error fetching technical analysis concepts:",t),s([]))))}getTechnicalAnalysisConceptById(t){return this.http.get(this.technicalAnalysisConceptsUrl).pipe(r(e=>e.concepts.find(n=>n.id===t)),c(e=>(console.error(`Error fetching technical analysis concept with id ${t}:`,e),s(void 0))))}getConcept(t){let e=this.userConcepts.find(i=>i.id===t);return e?s(e):C(...["html","css","javascript","angular","java"].map(i=>this.http.get(this.getConceptsJsonPath(i)).pipe(r(m=>m.concepts.find(v=>v.id===t)),c(()=>s(void 0))))).pipe(d(i=>!!i),l(void 0))}createConcept(t){let e=p(o({},t),{id:Date.now().toString()});return this.userConcepts.push(e),this.saveUserConcepts(),s(e)}updateConcept(t,e){let n=this.userConcepts.findIndex(i=>i.id===t);return n===-1?s(void 0):(this.userConcepts[n]=o(o({},this.userConcepts[n]),e),this.saveUserConcepts(),s(this.userConcepts[n]))}deleteConcept(t){let e=this.userConcepts.findIndex(n=>n.id===t);return e===-1?s(!1):(this.userConcepts.splice(e,1),this.saveUserConcepts(),s(!0))}static \u0275fac=function(e){return new(e||a)(h(g))};static \u0275prov=u({token:a,factory:a.\u0275fac,providedIn:"root"})};export{f as a};
