import{a as f}from"./chunk-OR5QTTGG.js";import{$ as d,E as C,H as u,M as l,a as i,b as p,ea as g,o as r,s as c,w as a}from"./chunk-FJLZPIOP.js";var h=class o{constructor(e){this.http=e;let t=localStorage.getItem("user_concepts");t&&(this.userConcepts=JSON.parse(t))}predefinedConcepts=[];userConcepts=[];getConceptsJsonPath(e){return`assets/data/${e}-concepts.json`}saveUserConcepts(){localStorage.setItem("user_concepts",JSON.stringify(this.userConcepts))}getConcepts(e){return this.http.get(this.getConceptsJsonPath(e)).pipe(c(t=>[...t.concepts,...this.userConcepts.filter(n=>n.technology===e)]))}getConcept(e){let t=this.userConcepts.find(n=>n.id===e);return t?r(t):a(...["html","css","javascript","angular"].map(n=>this.http.get(this.getConceptsJsonPath(n)).pipe(c(v=>v.concepts.find(m=>m.id===e)),C(()=>r(void 0))))).pipe(l(n=>!!n),u(void 0))}createConcept(e){let t=p(i({},e),{id:Date.now().toString()});return this.userConcepts.push(t),this.saveUserConcepts(),r(t)}updateConcept(e,t){let s=this.userConcepts.findIndex(n=>n.id===e);return s===-1?r(void 0):(this.userConcepts[s]=i(i({},this.userConcepts[s]),t),this.saveUserConcepts(),r(this.userConcepts[s]))}deleteConcept(e){let t=this.userConcepts.findIndex(s=>s.id===e);return t===-1?r(!1):(this.userConcepts.splice(t,1),this.saveUserConcepts(),r(!0))}static \u0275fac=function(t){return new(t||o)(g(f))};static \u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})};export{h as a};
